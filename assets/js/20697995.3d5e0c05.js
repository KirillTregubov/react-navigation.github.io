"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([["95971"],{12117:function(e,a,t){t.r(a),t.d(a,{assets:function(){return c},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return r},metadata:function(){return n},toc:function(){return l}});var n=t(1002),i=t(85893),o=t(50065);let r={title:"React Navigation 2.0",authors:"brent",tags:["release","announcement"]},s=void 0,c={authorsImageUrls:[void 0]},l=[{value:"Significant breaking changes",id:"significant-breaking-changes",level:2},{value:"<code>navigate(routeName)</code> in StackNavigator is \u201Cless pushy\u201D",id:"navigateroutename-in-stacknavigator-is-less-pushy",level:3},{value:"<code>push</code> now propagates between routers like <code>navigate</code>",id:"push-now-propagates-between-routers-like-navigate",level:3},{value:"Shallow navigation options",id:"shallow-navigation-options",level:3},{value:"New API for creating navigators",id:"new-api-for-creating-navigators",level:3},{value:"Trivial breaking changes",id:"trivial-breaking-changes",level:2},{value:"Drawer routes have been replaced with actions",id:"drawer-routes-have-been-replaced-with-actions",level:3},{value:"Navigation actions API overhaul",id:"navigation-actions-api-overhaul",level:3},{value:"NavigationActions no longer have <code>toString()</code> implementations (related)",id:"navigationactions-no-longer-have-tostring-implementations-related",level:3},{value:"NavigationActions split up according to router",id:"navigationactions-split-up-according-to-router",level:3},{value:"Deprecations",id:"deprecations",level:2},{value:"XNavigator(...) is now createXNavigator(...)",id:"xnavigator-is-now-createxnavigator",level:3},{value:"Tab navigator split into separate components",id:"tab-navigator-split-into-separate-components",level:3},{value:"Enhancements",id:"enhancements",level:2},{value:"Bugfixes",id:"bugfixes",level:2},{value:"Final notes",id:"final-notes",level:2}];function h(e){let a={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.p,{children:["The documentation is now live at ",(0,i.jsx)(a.a,{href:"https://reactnavigation.org",children:"reactnavigation.org"}),", and v1 lives ",(0,i.jsx)(a.a,{href:"/docs/1.x/getting-started",children:"here"}),"."]}),"\n",(0,i.jsx)(a.h2,{id:"significant-breaking-changes",children:"Significant breaking changes"}),"\n",(0,i.jsx)(a.p,{children:"The following changes are considered \u201Csignificant\u201D because they can\u2019t be fixed by search and replace or something that is similarly mechanical."}),"\n",(0,i.jsxs)(a.h3,{id:"navigateroutename-in-stacknavigator-is-less-pushy",children:[(0,i.jsx)(a.code,{children:"navigate(routeName)"})," in StackNavigator is \u201Cless pushy\u201D"]}),"\n",(0,i.jsxs)(a.p,{children:["In 1.x, ",(0,i.jsx)(a.code,{children:"navigate(routeName)"})," and ",(0,i.jsx)(a.code,{children:"push(routeName)"})," were very similar: every time you called ",(0,i.jsx)(a.code,{children:"navigate(routeName)"})," it would push a new route to the stack. Now ",(0,i.jsx)(a.code,{children:"navigate(routeName)"})," will first try to find an existing instance of the route and jump to that if it exists, otherwise it will push the route to the stack."]}),"\n",(0,i.jsxs)(a.p,{children:["To update your app for this change you may need to change ",(0,i.jsx)(a.code,{children:"navigate"})," to ",(0,i.jsx)(a.code,{children:"push"})," in places where you would like to push a new route every time. Alternatively, you could consider using a ",(0,i.jsx)(a.code,{children:"key"}),": ",(0,i.jsx)(a.code,{children:"navigate({routeName: \u2018MyRoute\u2019, key: data.uniqueId, params: data})"}),". ",(0,i.jsx)(a.a,{href:"/docs/2.x/navigation-key",children:"Read more about navigation with keys"}),"."]}),"\n",(0,i.jsxs)(a.p,{children:["Read more about this in ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/rfcs/blob/master/text/0004-less-pushy-navigate.md",children:"RFC 4"})," and ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/commit/7a978b1087ff3acc7dd71267bd900d15c932d7cc",children:"commit 7a978b1"}),"."]}),"\n",(0,i.jsxs)(a.h3,{id:"push-now-propagates-between-routers-like-navigate",children:[(0,i.jsx)(a.code,{children:"push"})," now propagates between routers like ",(0,i.jsx)(a.code,{children:"navigate"})]}),"\n",(0,i.jsxs)(a.p,{children:["Previously, ",(0,i.jsx)(a.code,{children:"push"})," only applied to the deepest active stack router. This meant that if you had Stack A > Stack B and Stack B fired ",(0,i.jsx)(a.code,{children:"push(\u2018MyRoute\u2019)"}),", even if Stack B does not have a route with the name ",(0,i.jsx)(a.code,{children:"\u2019MyRoute\u2019"})," and Stack A does, the screen would not be pushed. We made this change to accommodate for the \u201Cless pushy\u201D navigate behavior."]}),"\n",(0,i.jsxs)(a.p,{children:["When updating your app, you may want to double check where you use ",(0,i.jsx)(a.code,{children:"push"})," to ensure that this doesn\u2019t impact the expected behavior of your app."]}),"\n",(0,i.jsxs)(a.p,{children:["Read about this in ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/rfcs/blob/master/text/0004-less-pushy-navigate.md#drawbacks",children:"RFC 4"})," and ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3617",children:"pull 3617"}),"."]}),"\n",(0,i.jsx)(a.h3,{id:"shallow-navigation-options",children:"Shallow navigation options"}),"\n",(0,i.jsxs)(a.p,{children:["A common source of confusion for developers working with React Navigation has been around ",(0,i.jsx)(a.code,{children:"navigationOptions"})," resolution. For example, if you have a stack navigator with a header, and a drawer inside of that stack, then in some circumstances the title of the stack would change every time you change screens in the drawer. This is because the stack navigator would crawl into child navigators and pull ",(0,i.jsx)(a.code,{children:"navigationOptions"})," off of the deepest active screen. As of 2.0, this no longer happens: navigators will only look at their direct children for ",(0,i.jsx)(a.code,{children:"navigationOptions"}),"."]}),"\n",(0,i.jsxs)(a.p,{children:["Read more about the justification for this in ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/rfcs/blob/master/text/0005-shallow-navigation-options.md",children:"RFC 5"}),". Also see the new documentation page ",(0,i.jsx)(a.a,{href:"/docs/2.x/navigation-options-resolution",children:"Navigation options resolution"})," to learn more."]}),"\n",(0,i.jsx)(a.h3,{id:"new-api-for-creating-navigators",children:"New API for creating navigators"}),"\n",(0,i.jsxs)(a.p,{children:["It is now easier to create and maintain custom navigators. The new ",(0,i.jsx)(a.code,{children:"createNavigator"}),' API fully decouples the navigation view from the router. Information about each screen is available on a single "descriptor", including the pre-computed child navigation prop, allowing you to focus on custom navigation views.']}),"\n",(0,i.jsxs)(a.p,{children:["Custom navigators can now provide actions helpers for their screens. For example, the new drawer navigator now allows ",(0,i.jsx)(a.code,{children:"props.navigation.openDrawer()"})," within its screen components."]}),"\n",(0,i.jsxs)(a.p,{children:["This does not impact most users - you won't need to make any changes for this unless you use custom navigators in your app. Read more about the changes in ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/rfcs/blob/master/text/0002-navigator-view-api.md",children:"RFC 2"}),". Also read the ",(0,i.jsx)(a.a,{href:"/docs/2.x/custom-navigators",children:"custom navigators documentation"}),". You can also watch the ",(0,i.jsx)(a.a,{href:"https://youtu.be/wJJZ9Od8MjM?t=1215",children:'"Creating a navigator" section in this talk'})," to learn more."]}),"\n",(0,i.jsx)(a.h2,{id:"trivial-breaking-changes",children:"Trivial breaking changes"}),"\n",(0,i.jsx)(a.p,{children:"The following changes are considered \u201Ctrivial\u201D because you will only need make straightforward and mechanical changes to update your app for them."}),"\n",(0,i.jsx)(a.h3,{id:"drawer-routes-have-been-replaced-with-actions",children:"Drawer routes have been replaced with actions"}),"\n",(0,i.jsxs)(a.p,{children:["Rather than opening a drawer with ",(0,i.jsx)(a.code,{children:"navigation.navigate(\u2018DrawerOpen\u2019)"}),", you can now call ",(0,i.jsx)(a.code,{children:"navigation.openDrawer()"}),". Other methods are ",(0,i.jsx)(a.code,{children:"closeDrawer()"})," and ",(0,i.jsx)(a.code,{children:"toggleDrawer()"}),". See ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3618",children:"pull 3618"}),"."]}),"\n",(0,i.jsx)(a.h3,{id:"navigation-actions-api-overhaul",children:"Navigation actions API overhaul"}),"\n",(0,i.jsx)(a.p,{children:"In practice, this change is unlikely to impact your app at all except for one case that is mentioned below."}),"\n",(0,i.jsxs)(a.p,{children:["In 1.x, functions on the ",(0,i.jsx)(a.code,{children:"navigation"})," were not contextual - they would be the same regardless of whether your screen was inside of a drawer, a stack, a tab navigator, etc. In 2.0 the functions that are available to you on the ",(0,i.jsx)(a.code,{children:"navigation"})," prop depend on the navigators that it corresponds to. If your screen is inside of both a stack and a drawer navigator, you will have helpers for both -- ",(0,i.jsx)(a.code,{children:"push"})," and ",(0,i.jsx)(a.code,{children:"openDrawer"}),", for example."]}),"\n",(0,i.jsxs)(a.p,{children:["Given that we only exposed generic helpers (",(0,i.jsx)(a.code,{children:"navigate"}),", ",(0,i.jsx)(a.code,{children:"goBack"}),") and helpers specific to the stack in 1.x, this would only impact you if you attempted to use the stack helpers from outside of a stack. For example, if you had a tab navigator with a stack in tab A and just a plain screen in tab B, then tried to ",(0,i.jsx)(a.code,{children:"push"})," a route from the screen in tab B, ",(0,i.jsx)(a.code,{children:"push"})," would not be available. Keep this in mind when you update your app if it follows this type of structure."]}),"\n",(0,i.jsxs)(a.p,{children:["One of the big improvements you get from this is that you can now add your own helpers to the ",(0,i.jsx)(a.code,{children:"navigation"})," prop! Read more in ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/rfcs/blob/master/text/0006-action-creators.md",children:"RFC 6"})," and in ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3392",children:"pull 3392"}),"."]}),"\n",(0,i.jsxs)(a.h3,{id:"navigationactions-no-longer-have-tostring-implementations-related",children:["NavigationActions no longer have ",(0,i.jsx)(a.code,{children:"toString()"})," implementations (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/issues/4072",children:"related"}),")"]}),"\n",(0,i.jsx)(a.p,{children:"This change was intended to simplify the implementation of actions. We may go back on this, however, and apologize in advance if this thrasing causes you trouble."}),"\n",(0,i.jsx)(a.h3,{id:"navigationactions-split-up-according-to-router",children:"NavigationActions split up according to router"}),"\n",(0,i.jsxs)(a.p,{children:["If you are using ",(0,i.jsx)(a.code,{children:"NavigationActions.push"})," or other stack-specific actions, you\u2019ll need to import ",(0,i.jsx)(a.code,{children:"StackActions"})," and use ",(0,i.jsx)(a.code,{children:"StackActions.push"})," instead."]}),"\n",(0,i.jsx)(a.h2,{id:"deprecations",children:"Deprecations"}),"\n",(0,i.jsx)(a.h3,{id:"xnavigator-is-now-createxnavigator",children:"XNavigator(...) is now createXNavigator(...)"}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.code,{children:"StackNavigator"}),", ",(0,i.jsx)(a.code,{children:"TabNavigator"})," and ",(0,i.jsx)(a.code,{children:"DrawerNavigator"})," are now deprecated in favour of ",(0,i.jsx)(a.code,{children:"createStackNavigator"}),", ",(0,i.jsx)(a.code,{children:"createTabNavigator"}),", and ",(0,i.jsx)(a.code,{children:"createDrawerNavigator"}),", which are functionally identical but more clearly communicate that they are functions and that they return a component. The ",(0,i.jsx)(a.code,{children:"XNavigator"})," style will removed in 3.0."]}),"\n",(0,i.jsx)(a.h3,{id:"tab-navigator-split-into-separate-components",children:"Tab navigator split into separate components"}),"\n",(0,i.jsxs)(a.p,{children:["Previously, ",(0,i.jsx)(a.code,{children:"TabNavigator"})," would render a navigation bar on the top of the screen on Android and the bottom on iOS. We\u2019ve now pulled these navigators apart, so you can use ",(0,i.jsx)(a.code,{children:"createBottomTabNavigator"}),"and ",(0,i.jsx)(a.code,{children:"createMaterialTopTabNavigator"})," explicitly depending on what you need. You can use ",(0,i.jsx)(a.code,{children:"createTabNavigator"})," to have the same behavior as before, but it will be removed in 3.0."]}),"\n",(0,i.jsxs)(a.p,{children:["It is worth noting additionally that ",(0,i.jsx)(a.code,{children:"createBottomTabNavigator"})," is different from the bottom tab navigator that is available through ",(0,i.jsx)(a.code,{children:"TabNavigator"})," in that it does not support ",(0,i.jsx)(a.code,{children:"animationEnabled"})," or ",(0,i.jsx)(a.code,{children:"swipeEnabled"})," properties."]}),"\n",(0,i.jsx)(a.h2,{id:"enhancements",children:"Enhancements"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["dangerouslyGetParent and dismiss helpers on navigation prop (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3669",children:"3669"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["State persistence - automatically save state and reload it when the app restarts (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3716",children:"3716"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Smoothly transition header visibility in Stack (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3821",children:"3821"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Add initialRouteKey for StackRouter (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3540",children:"3540"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Make StackNavigator keyboard aware -- it hides automatically when you start to swipe back, and refocuses if you cancel the swipe back gesture (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3951",children:"3951"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Allow modification of SafeAreaView props in header (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3496",children:"3496"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Add ",(0,i.jsx)(a.code,{children:"createMaterialBottomTabNavigator"})," for a material design style tab bar. (see ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation-tabs",children:"react-navigation-tabs"}),")."]}),"\n",(0,i.jsxs)(a.li,{children:["Use findIndex instead of map/indexOf in StateUtils (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/commit/47fe858d4ec339d2b1f4b96f3a5444aed8f6f900",children:"commit"})]}),"\n",(0,i.jsxs)(a.li,{children:["Warn when users have multiple stateful navigation containers (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/commit/68a2a106f370003dc1d46385fd8b5992be189ee2",children:"commit"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Remove almost all uses of React 16 deprecated lifecycle methods (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/commit/3f837c895e823de4d528b55fd70ee7ba167480d8",children:"commit"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Add ",(0,i.jsx)(a.code,{children:"activeLabelStyle"})," and ",(0,i.jsx)(a.code,{children:"inactiveLabelStyle"})," for ",(0,i.jsx)(a.code,{children:"DrawerItem"})," (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/commit/7c488c8d4974028f85a4c5171d27209fa099170f",children:"commit"}),")"]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"bugfixes",children:"Bugfixes"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["Avoid unnecessary navigation completion dispatches (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3902",children:"3902"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Use Header.HEIGHT instead of measuring to avoid flicker (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/pull/3940",children:"3940"}),")"]}),"\n",(0,i.jsxs)(a.li,{children:["Implement paths on ",(0,i.jsx)(a.code,{children:"SwitchRouter"})," (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/commit/5e4512f3ebef587bf90e4ec4d660708b72a0a865",children:"commit"}),")."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.code,{children:"SwitchRouter"})," now returns ",(0,i.jsx)(a.code,{children:"null"})," on idempotent navigation (",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/commit/577d99c1658ef85c061c82d55bf349c38e161e97",children:"commit"}),")."]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"final-notes",children:"Final notes"}),"\n",(0,i.jsxs)(a.p,{children:["The breaking changes and deprecations in this release resolve a lot of issues that users have encountered that have been perceived as bugs but were technically expected behavior. We think that we\u2019ve drastically improved library ergonomics for new users and experienced users alike, let us know ",(0,i.jsx)(a.a,{href:"https://twitter.com/reactnavigation",children:"on Twitter"})," what you think."]}),"\n",(0,i.jsxs)(a.p,{children:["We\u2019ve ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/issues/3686",children:"started to plan for 3.0"}),". Please get involved by ",(0,i.jsx)(a.a,{href:"https://react-navigation.canny.io/feature-requests",children:"posting your feature requests to Canny"}),", ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/rfcs/issues",children:"opening a RFC"}),", or letting us know about bugs with a well-formulated ",(0,i.jsx)(a.a,{href:"https://github.com/react-navigation/react-navigation/issues/new",children:"issue"}),"!"]})]})}function d(e={}){let{wrapper:a}={...(0,o.a)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},50065:function(e,a,t){t.d(a,{Z:function(){return s},a:function(){return r}});var n=t(67294);let i={},o=n.createContext(i);function r(e){let a=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:a},e.children)}},1002:function(e){e.exports=JSON.parse('{"permalink":"/blog/2018/05/07/react-navigation-2.0","source":"@site/blog/2018-05-07-react-navigation-2.0.md","title":"React Navigation 2.0","description":"The documentation is now live at reactnavigation.org, and v1 lives here.","date":"2018-05-07T00:00:00.000Z","tags":[{"inline":true,"label":"release","permalink":"/blog/tags/release"},{"inline":true,"label":"announcement","permalink":"/blog/tags/announcement"}],"readingTime":6.09,"hasTruncateMarker":true,"authors":[{"name":"Brent Vatne","url":"https://bsky.app/profile/notbrent.bsky.social","title":"Core Team","socials":{"x":"https://x.com/notbrent","github":"https://github.com/brentvatne"},"imageURL":"https://avatars0.githubusercontent.com/u/90494","key":"brent","page":null}],"frontMatter":{"title":"React Navigation 2.0","authors":"brent","tags":["release","announcement"]},"unlisted":false,"prevItem":{"title":"3.0 release candidate","permalink":"/blog/2018/11/01/react-navigation-3.0-rc"},"nextItem":{"title":"2.0 release candidate","permalink":"/blog/2018/04/06/react-navigation-2.0-rc"}}')}}]);